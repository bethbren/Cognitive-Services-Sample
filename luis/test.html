<!DOCTYPE html>
<html>
    <head>
        <title>LUIS Test</title>
    </head>
    <body>
        <p>Call LUIS</p>
        <input type="text" id="subscription-key">
        <input type="text" id="utterance">
        <button onclick="submit()">Submit</button>
        <p id="result"></p>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script src="luis.js"></script>
        <script type="application/javascript">
            const region = "eastus";
            const appId = "76ddfbac-e266-4389-b74a-7c51b683aa8d";

            const parseHomeAutomationCommandAsync = luisAsync.bind(null, $, region, appId);

            function submit() {
                const subscriptionKey = document.getElementById("subscription-key").value;
                const utterance = document.getElementById("utterance").value;

                const result = parseHomeAutomationCommandAsync(subscriptionKey, utterance);
                result.then(
                    (x) => document.getElementById("result").innerHTML = JSON.stringify(x),
                    () => alert("error")
                );
            }
        </script>
    </body>
</html>